<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Redis常用类型与应用场景 | Violet</title>

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="shortcut icon" href="http://violet404.github.io/favicon.ico?v=1626240190742">
<link rel="stylesheet" href="http://violet404.github.io/styles/main.css">



<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>



    <meta name="description" content="查看redis版本
1.redis-server -v（linux）
2.info （进入redis后）
redis命令不区分大小写，key区分大小写
redis 帮助命令 help @&lt;类型名词&gt;
5大数据类型

string..." />
    <meta name="keywords" content="" />
  </head>
  <body>
    <div id="app" class="main">

      <div class="sidebar" :class="{ 'full-height': menuVisible }">
  <div class="top-container" data-aos="fade-right">
    <div class="top-header-container">
      <a class="site-title-container" href="http://violet404.github.io">
        <img src="http://violet404.github.io/images/avatar.png?v=1626240190742" class="site-logo">
        <h1 class="site-title">Violet</h1>
      </a>
      <div class="menu-btn" @click="menuVisible = !menuVisible">
        <div class="line"></div>
      </div>
    </div>
    <div>
      
        
          <a href="/" class="site-nav">
            首页
          </a>
        
      
        
          <a href="/archives" class="site-nav">
            归档
          </a>
        
      
        
          <a href="/tags" class="site-nav">
            标签
          </a>
        
      
        
          <a href="/post/about" class="site-nav">
            关于
          </a>
        
      
    </div>
  </div>
  <div class="bottom-container" data-aos="flip-up" data-aos-offset="0">
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
    <div class="site-description">
      业精于勤，荒于嬉
    </div>
    <div class="site-footer">
       | <a class="rss" href="http://violet404.github.io/atom.xml" target="_blank">RSS</a>
    </div>
  </div>
</div>


      <div class="main-container">
        <div class="content-container" data-aos="fade-up">
          <div class="post-detail">
            <h2 class="post-title">Redis常用类型与应用场景</h2>
            <div class="post-date">2021-03-22</div>
            
            <div class="post-content" v-pre>
              <p>查看redis版本<br>
1.<code>redis-server -v</code>（linux）<br>
2.<code>info</code> （进入redis后）</p>
<p>redis命令不区分大小写，key区分大小写<br>
redis 帮助命令 help @&lt;类型名词&gt;</p>
<p>5大数据类型</p>
<ol>
<li>string
<ol>
<li>常用
<ol>
<li><code>set key value</code></li>
<li><code>get key</code></li>
</ol>
</li>
<li>同时设置、获取多个键值
<ol>
<li><code>mset key value [key value ...]</code></li>
<li><code>mget key [key ...]</code></li>
</ol>
</li>
<li>数值增减
<ol>
<li>递增 <code>incr key</code></li>
<li>增加指定的整数 <code>incrby key increment</code></li>
<li>递减 <code>decr key</code></li>
<li>递减指定 <code>decrby key decrement</code></li>
</ol>
</li>
<li>获取字符串长度 <code>strlen key</code></li>
<li>分布式锁
<ol>
<li><code>setnx key value</code> 如果不存在则创建</li>
<li><code>set key value [EX seconds] [PX milliseconds] [NX | XX]</code>
<ol>
<li>EX 指定秒过期</li>
<li>PX 指定毫秒过期</li>
<li>NX 当key不存在时创建key，效果等价于setnx</li>
<li>XX 当key存在时覆盖key</li>
</ol>
</li>
</ol>
</li>
<li>应用场景 商品、文章的点踩incr、decr</li>
</ol>
</li>
<li>list
<ol>
<li>有序有重复，双向链表</li>
<li>左侧添加元素 <code>lpush key value [value ...]</code></li>
<li><code>rpush key value [value...]</code></li>
<li>查看列表 <code>lrange key start stop</code></li>
<li>获取列表元素个数 <code>llen key</code></li>
<li>应用场景 文章订阅公众号</li>
</ol>
</li>
<li>hash
<ol>
<li>对应java中的<code>Map&lt;string, Map&lt;Object, Object&gt;&gt;</code></li>
<li>一次设置一个字段 <code>hset key field value</code></li>
<li>一次获取一个字段 <code>hset key field</code></li>
<li>一次设置多个字段 <code>hmset key field value [field value ...]</code></li>
<li>一次获取获取多个字段值 <code>hmset key field [field ...]</code></li>
<li>获取所有字段值 <code>hgetall key</code></li>
<li>获取某个key内的全部数量 <code>hlen</code></li>
<li>删除一个 <code>key hdel</code></li>
<li>属性自增 <code>hincrby</code> 同string</li>
<li>应用场景 购物车（中小厂）、订餐等汇集场景</li>
</ol>
</li>
<li>set 无序无重复
<ol>
<li>添加 <code>sadd key member [member]</code></li>
<li>删除 <code>srem key member [member]</code></li>
<li>获取所有元素 <code>smembers key</code></li>
<li>判断元素是否在集合中 <code>sismember key member</code></li>
<li>获取元素个数 <code>scard key</code></li>
<li>从集合中随机弹出一个元素，不删除 <code>srandmember key [数字]</code></li>
<li>从集合随机弹出，并删除 <code>spop key [数字]</code></li>
<li>集合运算
<ol>
<li>差集A-B 属于A但不属于B <code>sdiff key [key ...]</code></li>
<li>交集 <code>sinter key [key ...]</code></li>
<li>并集 <code>sunion key [key ...]</code></li>
</ol>
</li>
<li>应用场景
<ol>
<li>抽奖小程序</li>
<li>点赞</li>
<li>共同关注的人、共同的爱好</li>
<li>可能认识的人</li>
</ol>
</li>
</ol>
</li>
<li>zset（sorted set）
<ol>
<li>向有序集合中添加一个元素与其分数 <code>zadd key score member [score member ...]</code></li>
<li>按照分数从小到大返回索引区分的元素 <code>zrange key start stop [withscores]</code></li>
<li>获取元素的分数 <code>zscore key member</code></li>
<li>删除元素 <code>zrem key member [member ...]</code></li>
<li>获取指定分数范围的元素 <code>zrangebyscore key min max [withscore][limit offset count]</code></li>
<li>增加某个元素的分数 <code>zincrby key increment member</code></li>
<li>获取元素的数量 <code>zcard key</code></li>
<li>获取指定分数范围内元素的数量 <code>zcount key min max</code></li>
<li>按照排序删除元素<code>zremrangebyrank key start stop</code></li>
<li>获取元素排名 <code>zrank key member /zrevrank key member</code></li>
<li>场景 排行榜</li>
</ol>
</li>
<li>bitmap 位图</li>
<li>HyperLogLogs</li>
<li>GEO 地理信息</li>
<li>Stream</li>
</ol>

            </div>
            
            

            

          </div>

        </div>
      </div>
    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
<script type="application/javascript">

AOS.init();

var app = new Vue({
  el: '#app',
  data: {
    menuVisible: false,
  },
})

</script>






  </body>
</html>
